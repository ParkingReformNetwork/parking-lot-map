@use "theme/colors";
@use "theme/spacing";
@use "theme/typography";
@use "header";

$label-font-size: typography.$font-size-md;
$zoom-controls-top-offset: calc(
  58px + spacing.$map-controls-margin-top - header.$header-height
);
$outer-border-thickness: 2px;
$option-divider: 1px solid colors.$gray-translucent;

.leaflet-left .leaflet-control {
  margin-left: spacing.$map-controls-margin-x;
}

.leaflet-control-zoom.leaflet-bar,
.leaflet-control-layers.leaflet-control {
  border: $outer-border-thickness solid colors.$gray-translucent;
  border-radius: 4px;
}

.leaflet-control-zoom.leaflet-bar {
  top: $zoom-controls-top-offset;

  a {
    width: spacing.$min-touch-target;
    height: spacing.$min-touch-target;
    font-size: $label-font-size;
    font-weight: normal;

    display: flex;
    align-items: center;
    justify-content: center;

    &:first-child {
      border-bottom: $option-divider;
    }
  }
}

.leaflet-touch.leaflet-control-layers-toggle {
  width: spacing.$min-touch-target;
  height: spacing.$min-touch-target;
}

#map > div.leaflet-control-container > div.leaflet-top.leaflet-right {
  $zoom-controls-height: calc(
    (spacing.$min-touch-target * 2) + $outer-border-thickness
  );
  top: calc(
    $zoom-controls-top-offset + $zoom-controls-height + spacing.$element-gap
  );
  margin-left: spacing.$map-controls-margin-x;
  right: auto;
}

.leaflet-control-layers-selector {
  top: 0px;
}

.leaflet-control-layers-expanded {
  padding: 0px;
}

.leaflet-control-layers label {
  font-size: $label-font-size;
  line-height: 1;

  &:first-child {
    border-bottom: $option-divider;
  }

  display: flex;
  align-items: center;

  $padding-y: calc((spacing.$min-touch-target - $label-font-size) / 2);
  padding: $padding-y spacing.$element-gap;

  input[type="radio"] {
    margin: 0;
    vertical-align: middle;
  }
}
